{% extends "base.html" %}

{% block title %}repo_new | Dashboard{% endblock %}

{% block content %}
<header class="stack-md">
  <h1>{{ t('dashboard.title', lang) }}</h1>
  <p class="lead">{{ t('dashboard.lead', lang) }}</p>
</header>

{% if message %}
<p class="alert alert-success" role="status">{{ message }}</p>
{% endif %}

<section class="stack-md" aria-label="Dashboard sections">
  <a href="/order" class="card-link" aria-label="{{ t('dashboard.place_order_tile', lang) }}">
    <div class="card card-primary">
      <h3>{{ t('dashboard.place_order_tile', lang) }}</h3>
      <p class="lead">{{ t('dashboard.place_order_tile_description', lang) }}</p>
    </div>
  </a>

  <a href="/menu" class="card-link" aria-label="{{ t('dashboard.view_menu', lang) }}">
    <div class="card">
      <h3>{{ t('dashboard.view_menu', lang) }}</h3>
      <p class="lead">{{ t('dashboard.card_menu_description', lang) }}</p>
    </div>
  </a>

  <a href="/orders" class="card-link" aria-label="{{ t('dashboard.my_orders', lang) }}">
    <div class="card">
      <h3>{{ t('dashboard.my_orders', lang) }}</h3>
      <p class="lead">{{ t('dashboard.card_orders_description', lang) }}</p>
    </div>
  </a>
</section>

{% if current_user and current_user.role in ['admin', 'catering'] %}
<section class="stack-md top-gap-sm" aria-label="Admin tools section">
  <h2>{{ t('dashboard.admin_tools', lang) }}</h2>

  <a href="/catering/menu?date={{ today_iso }}" class="card-link" aria-label="{{ t('dashboard.add_today_menu', lang) }}">
    <div class="card">
      <h3>{{ t('dashboard.add_today_menu', lang) }}</h3>
      <p class="lead">{{ t('dashboard.add_today_menu_description', lang) }}</p>
    </div>
  </a>

  <a href="/catering/orders" class="card-link" aria-label="{{ t('dashboard.catering_orders', lang) }}">
    <div class="card">
      <h3>{{ t('dashboard.catering_orders', lang) }}</h3>
      <p class="lead">{{ t('dashboard.catering_orders_description', lang) }}</p>
    </div>
  </a>
</section>
{% endif %}

<p class="top-gap-sm"><a class="text-link" href="/">{{ t('back.home', lang) }}</a></p>
{% endblock %}
