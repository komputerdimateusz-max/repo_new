{% extends "base.html" %}

{% block title %}repo_new | Dashboard{% endblock %}

{% block content %}
<div class="page-container">
  <header class="page-header">
    <div>
      {% if current_user.role == "customer" %}
      <h1 class="page-title">{{ t('dashboard.title', lang) }} – {{ current_user.username }}</h1>
      {% elif current_user.role == "restaurant" %}
      <h1 class="page-title">{{ t('dashboard.title', lang) }} – {{ current_user.restaurant.name }}</h1>
      {% elif current_user.role == "admin" %}
      <h1 class="page-title">{{ t('dashboard.title', lang) }} – Administrator</h1>
      {% endif %}
      <p class="page-subtitle">{{ t('dashboard.lead', lang) }}</p>
    </div>
    <span class="pill pill--accent">
      {% if current_user.role == 'customer' %}Customer{% elif current_user.role == 'restaurant' %}Restaurant{% else %}Administrator{% endif %}
    </span>
  </header>

  {% if current_user.role == 'customer' %}
  <section class="section" aria-label="{{ t('dashboard.user_actions_label', lang) }}">
    <h2 class="section-title">Zamówienia</h2>
    <div class="card-grid">
      <a href="/order" class="tile-card tile-card--primary" aria-label="{{ t('dashboard.place_order_tile', lang) }}">
        <div class="tile-title">{{ t('dashboard.place_order_tile', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.place_order_description', lang) }}</p>
      </a>
      <a href="/menu" class="tile-card" aria-label="{{ t('dashboard.today_menu', lang) }}">
        <div class="tile-title">{{ t('dashboard.today_menu', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.card_menu_description', lang) }}</p>
      </a>
      <a href="/orders" class="tile-card" aria-label="{{ t('dashboard.my_orders', lang) }}">
        <div class="tile-title">{{ t('dashboard.my_orders', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.card_orders_description', lang) }}</p>
      </a>
    </div>
  </section>
  {% endif %}

  {% if current_user.role == 'restaurant' %}
  <section class="section" aria-label="Narzędzia restauracji">
    <h2 class="section-title">Narzędzia restauracji</h2>
    <div class="card-grid">
      <a href="/catering/menu" class="tile-card tile-card--primary" aria-label="Dodaj menu na dziś">
        <div class="tile-title">Dodaj menu na dziś</div>
        <p class="tile-desc">Zarządzaj daniami dla wybranego dnia w panelu restauracji.</p>
      </a>
      <a href="/catering/orders" class="tile-card" aria-label="Zamówienia">
        <div class="tile-title">Zamówienia</div>
        <p class="tile-desc">Przeglądaj zamówienia użytkowników dla wybranej daty.</p>
      </a>
      <a href="/restaurant/opening-hours" class="tile-card" aria-label="Opening hours">
        <div class="tile-title">Opening hours</div>
        <p class="tile-desc">Ustaw godziny przyjmowania zamówień dla restauracji.</p>
      </a>
      <a href="/restaurant/coverage" class="tile-card" aria-label="Delivery coverage">
        <div class="tile-title">Delivery coverage</div>
        <p class="tile-desc">Zarządzaj obsługiwanymi lokalizacjami i cut-off.</p>
      </a>
    </div>
  </section>
  {% endif %}

  {% if current_user.role == 'admin' %}
  <section class="section" aria-label="Narzędzia administratora">
    <h2 class="section-title">Narzędzia administratora</h2>
    <div class="card-grid">
      <a href="/settings" class="tile-card tile-card--primary" aria-label="{{ t('nav.settings', lang) }}">
        <div class="tile-title">{{ t('nav.settings', lang) }}</div>
        <p class="tile-desc">{{ t('settings.title', lang) }}</p>
      </a>
    </div>
  </section>
  {% endif %}
</div>
{% endblock %}
