{% extends "base.html" %}

{% block title %}repo_new | {{ t('dashboard.title', lang) }}{% endblock %}

{% block content %}
<div class="page-container">
  <header class="page-header">
    <div>
      {% if current_user.role == "customer" %}
      <h1 class="page-title">{{ t('dashboard.title', lang) }} – {{ current_user.username }}</h1>
      {% elif current_user.role == "restaurant" %}
      <h1 class="page-title">{{ t('dashboard.title', lang) }} – {{ current_user.restaurant.name }}</h1>
      {% elif current_user.role == "admin" %}
      <h1 class="page-title">{{ t('dashboard.title', lang) }} – {{ t('role.admin', lang) }}</h1>
      {% endif %}
      <p class="page-subtitle">{{ t('dashboard.lead', lang) }}</p>
    </div>
    <span class="pill pill--accent">
      {% if current_user.role == 'customer' %}{{ t('role.customer', lang) }}{% elif current_user.role == 'restaurant' %}{{ t('role.restaurant', lang) }}{% else %}{{ t('role.admin', lang) }}{% endif %}
    </span>
  </header>

  {% if current_user.role == 'customer' %}
  <section class="section" aria-label="{{ t('dashboard.user_actions_label', lang) }}">
    <h2 class="section-title">{{ t('dashboard.user_actions_label', lang) }}</h2>
    <div class="card-grid">
      <a href="/order" class="tile-card tile-card--primary" aria-label="{{ t('dashboard.place_order_tile', lang) }}">
        <div class="tile-title">{{ t('dashboard.place_order_tile', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.place_order_description', lang) }}</p>
      </a>
      <a href="/menu" class="tile-card" aria-label="{{ t('dashboard.today_menu', lang) }}">
        <div class="tile-title">{{ t('dashboard.today_menu', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.card_menu_description', lang) }}</p>
      </a>
      <a href="/orders" class="tile-card" aria-label="{{ t('dashboard.my_orders', lang) }}">
        <div class="tile-title">{{ t('dashboard.my_orders', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.card_orders_description', lang) }}</p>
      </a>
    </div>
  </section>
  {% endif %}

  {% if current_user.role == 'restaurant' %}
  <section class="section" aria-label="{{ t('dashboard.restaurant_tools', lang) }}">
    <h2 class="section-title">{{ t('dashboard.restaurant_tools', lang) }}</h2>
    <div class="card-grid">
      <a href="/catering/menu" class="tile-card tile-card--primary" aria-label="{{ t('dashboard.restaurant_manage_menu_today', lang) }}">
        <div class="tile-title">{{ t('dashboard.restaurant_manage_menu_today', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.restaurant_manage_menu_today_description', lang) }}</p>
      </a>
      <a href="/catering/orders" class="tile-card" aria-label="{{ t('dashboard.restaurant_orders', lang) }}">
        <div class="tile-title">{{ t('dashboard.restaurant_orders', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.restaurant_orders_description', lang) }}</p>
      </a>
      <a href="/restaurant/kitchen" class="tile-card" aria-label="{{ t('dashboard.restaurant_kitchen_mode', lang) }}">
        <div class="tile-title">{{ t('dashboard.restaurant_kitchen_mode', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.restaurant_kitchen_mode_description', lang) }}</p>
      </a>
      <a href="/restaurant/opening-hours" class="tile-card" aria-label="{{ t('dashboard.restaurant_opening_hours', lang) }}">
        <div class="tile-title">{{ t('dashboard.restaurant_opening_hours', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.restaurant_opening_hours_description', lang) }}</p>
      </a>
      <a href="/restaurant/coverage" class="tile-card" aria-label="{{ t('dashboard.restaurant_delivery_coverage', lang) }}">
        <div class="tile-title">{{ t('dashboard.restaurant_delivery_coverage', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.restaurant_delivery_coverage_description', lang) }}</p>
      </a>
    </div>
  </section>
  {% endif %}

  {% if current_user.role == 'admin' %}
  <section class="section" aria-label="{{ t('dashboard.admin_tools', lang) }}">
    <h2 class="section-title">{{ t('dashboard.admin_tools', lang) }}</h2>
    <div class="card-grid">
      <a href="/settings" class="tile-card tile-card--primary" aria-label="{{ t('nav.settings', lang) }}">
        <div class="tile-title">{{ t('nav.settings', lang) }}</div>
        <p class="tile-desc">{{ t('settings.title', lang) }}</p>
      </a>
      <a href="/admin/locations" class="tile-card" aria-label="{{ t('dashboard.supported_locations', lang) }}">
        <div class="tile-title">{{ t('dashboard.supported_locations', lang) }}</div>
        <p class="tile-desc">{{ t('dashboard.supported_locations_description', lang) }}</p>
      </a>
    </div>
  </section>
  {% endif %}
</div>
{% endblock %}
